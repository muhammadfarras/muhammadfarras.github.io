## Menggunakan Virtual Console
Kebanyakan Linux system yang memliki dekstop interface memulai beberapa virtual console yang berjalan pada komputer. Virtual consol adalah cara untuk memliki beberapa shell session yang dibuka berbarengan dengan grafik interface yang digunakan. Artinya, virtual console ini berjalan berbarengan dengan dibukanya grafik interface saat menjalankan linux

Kita dapat mengganti antara virtual console dengan mekenan ++ctrl++ dan ++alt++ dan menekang function key antara ++f3++ dan ++f6++. Sedangkan untuk ++f1++ dan ++f2++ akan membuat anda kembali kedalam GUI session. 

``` { .yaml .no-copy }
# ctr + alt + f3
Ubuntu 21.10 BrownTofu tty3
BrownTofu Login:

# ctr + alt + f4
Ubuntu 21.10 BrownTofu tty4
BrownTofu Login:

# ctr + alt + f5
Ubuntu 21.10 BrownTofu tty5
BrownTofu Login:
```

## Choosing Your Shell
Pada umumnya, shell bawaan yang ada pada linux adalah Bash Shell. Untuk mengetahuinya, gunakan perintah dibawah ini
``` shell
$ grep $(whoami) /etc/passwd 
# Output (1)
```

1.  maruffarras:x:1000:1000:maruffarras,,,:/home/maruffarras:/bin/bash

Perintah `whoami` berfungsi untuk menampilakan username. Hasil dari perintah tersebut digunakan untuk parameter perintah `grep`, yang mana berfungsi untuk mencari pola pada parameter yang tersedia pada sebuah file. Pada bagian akhir dari gabunga commad tersebut menunjukan Bash shell adalah shell bawaan anda.

Memungkinkan, namun sangat jarang, anda mungkin memliki shell bawaan yang berbeda (bukan Bash). Untuk mencoba shell yang berbeda, mudahnya ketik nama dari shell tersebut pada terminal (seperti dash, atau yang lainnya, dengan asumsi sudah terinstall).

```{.shell .no-copy } 
maruffarras@BrownTofu:~$ dash
$ echo "This is dash shell"
# Output (1) 
```

1.  This is dash shell

Meskipun kebanyakan pengguna linux lebih condong ke satu shell saja, jika anda sudah paham satu shell, anda dapat dengan cepat mempelajara shell lainnya dengan sesekali merujuk ke *shell's man page*. Perintah `man` menyediakan dokumentasi dari sebuah commands (perintah), file formats, dan komponen lainnya pada linux.

``` {.shell .no-copy}
maruffarras@BrownTofu:~$ man nmap
# Output (1)
```

1.  NMAP(1)  Nmap Reference Guide  NMAP(1)
NAME
nmap - Network exploration tool and security / port scanner


Bash memliki fitur asli yang dikembangkan awalnya untuk shell *sh* dan *ksh* pada awal UNIX systems, sebagaimana fitur-fitur pada *csh*, harapannya Bash menjadi login shell bawaan pada banyak Linux Systems, terkecuali beberapa Linux System tertentu (seperti shell yang berjalan pada perangkat yang tertanam, *emebedded system*) yang tidak memakan memori besar dan tidak perlu terlalu banyak fitur.

### `id` and `who` Command
Ketika anda login kedalam linux, linux membaca informasi identitas anda seperti username, group name, user ID dan Group ID (look at id command).

``` {.shell .no-copy}
maruffarras@BrownTofu:~$ id
```

!!! Abstract "Output"

    ``` {.shell .no-copy}
    uid=1000(maruffarras) gid=1000(maruffarras) groups=1000(maruffarras),4(adm),20(dialout),24(cdrom),27(sudo),30(dip),46(plugdev),122(lpadmin),133(lxd),134(sambashare)
    ```

Berdasarkan hasil perintah `id` diatas, *username* adalah maruffarras, yang mana direpresentasikan dengan ID numerik `(uid) 1000`   
Group pertama user maruffarras juga memliki nama `maruffarras` yang mana memiliki `gid 1000`. Umum terjadi di Ubuntu jika group user memliki nama yang sama dengan user. User maruffarras juga memiliki group lain, `4(adm)`, `20 (dialout)` dst. Angka tersebut merepresentasikan hak akses (*permission*) yang dimiliki maruffarras pada sistem.

Linux juga selalu melacak session login anda, linux mengetahui ketika anda masuk dan berapa lama session tersebut digunakan, serta dari mana anda masuk kedalam sistem linux (*tty*). Gunakan perintah `who -uH` untuk melihat login session user anda yang sedang berlangsung.

``` shell
who -uH
```

!!! Abstract "Output"

    ``` {.shell .no-copy}
    maruffarras@BrownTofu:~$ who -uH

    NAME        LINE         TIME             IDLE          PID COMMENT
    maruffarras tty2         2022-11-28 21:16 00:16        2055 (tty2)
    maruffarras tty4         2022-11-28 21:30   .          4510
    ```

Informasi yang diberikan oleh perintah `who` bahwa user maruffarras telah masuk/login pada tty2 dan tty4, session login tersebut dimulai dari 2022-11-28 21:16. **IDLE** menunjukan berapa lama shell terbuka. *PID* menunjukan process ID dari login sell user.

### Locating Commands
Dalam menjalankan sebuah perintah yang kita ketik, shell akan merujuk pada sebuah daftar yang kita ketahui sebagai alamat `$PATH`. Namun anda juga dapat menuliskan langsung alamat lengkap dari command yang ingin dijalankan, dengan cara ini berarti anda tidak menggunakan pintasan yang disediakan oleh `$PATH`. Contoh penulisan alamant lengkap, misalkan command *date* berada pada lokasi **/bin**, anda dapat mengetik *date* langsung, atau dilengkapi dengan alamat, menjadi `/bin/date`.

Dalam mencari command yang diperintahkan, shell akan merujuk pada $PATH anda. Namuun untuk command yang tidak ada dalam variabel $PATH, anda dapat menulis dengan lengkap lokasi dari command tersebut. Misalkan, command date berada pada lokasi /bin, anda dapat mengetik date ataupun dilengkapi dengan alamat dari command date.

``` {.shell .no-copy}
maruffarras@BrownTofu:~$ /bin/date 
# Output (1)
```

1.  Sen 28 Nov 2022 09:39:37  WIB

Namun, cara tersebut sangat tidak efesien, apalagi jika alamat dari command tersebut sangat panjang. Cara yang terbaik adalah menyimpan alamat lengkap dari perintah tersebut pada variabel $PATH environment variable. Anda dapat memanggil command *date* menggunakan tanpa menggunakan alamat lengkap asalakan direktori command tersebut berada di varaibel $PATH.

``` {.shell .no-copy}
maruffarras@BrownTofu:~$ date 
# Output (1)
```

1.  Sen 28 Nov 2022 09:39:37  WIB

$PATH terdiri dari daftar direktori yang akan dilihat oleh shell ketika kita memulai untuk menjalan command.

``` {.shell .no-copy}
echo $PATH
# Output (1)
```

1.  /home/maruffarras/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
:/usr/games:/usr/local/games

Daftar direktori-direktori dipisahkan menggunakan colon :, Hampir semua command dari linux tersimpan di `/bin`, `/usr/bin` atau `/usr/local/bin`. Command yang berhubungan tugas dengan administrasi terkumpul pada direktori `/sbin` dan `/usr/sbin`.

!!! note
    Linux mencari command *date* tanpa penulisan alamat lengkapnya di daftar direktori yang ada pada variabel **$PATH**. Perhatikan ada alamat `/bin` didalamnya.


Jika anda ingin membuat sebuah command untuk user maruffarras, anda harus memasukan script didalam direktori `/home/maruffarras/.local/bin`, jika command tersebut ingin diakses oleh semua user anda dapat menaruhnya di `/usr/local/bin`.

Urutan alamat direktori pada $PATH dibaca dari kiri ke kanan (left → right), jadi jika terdapat commad dengan nama *foo* berlokasi di `/usr/bin` dan `/bin`, maka command yang akan dieksekusi adalah *foo* yang berada dalam direktori `/usr/bin`. Jika anda ingin mengeksekusi command ditempat tertentu anda harus menggunakan alamat yang lengkap atau mengubah urutan dari $PATH.

Tidak semua command ditempatkan pada direktori yang ada pada variable **$PATH**. ==Beberapa command tertanam didalam shell==. Perintah juga dapat ditiban dengan membuat **aliases** yang dapat mendefinisikan command serta opsi-opsinya yang ingin dijalankan. Ada beberapa cara lain untuk mendifinisikan function yang terdiri dari beberapa kumpulan command. Dibawah ini adalah daftar urut yang mana shell akan menge-check command yang dipakai;

* **Aliases**
Kumpulan nama dari perintah alias yang merepresentasikan beberapa perintah dan opsi-opsinya. Seringkali aliases digunakan untuk membuat shortcut untuk command dan opsi-opsinya yang panjang. Untuk melihat daftar aliases gunakan command *alias*.
```{.shell .no-copy}
maruffarras@BrownTofu:/usr/sbin$ alias

# Output
alias android='./IDE/android-studio/bin/studio.sh'
alias egrep='egrep --color=auto'
alias fgrep='fgrep --color=auto'
alias grep='grep --color=auto'
alias intellij='/opt/idea-IC-212.5457.46/bin/idea.sh'
alias l='ls -CF'
alias la='ls -A'
alias laravel='~/./.config/composer/vendor/bin/laravel '
alias ll='ls -alF'
alias ls='ls --color=auto'
alias pycharm='./IDE/pycharm\ IDE/bin/pycharm.sh'
```

* **Shell reserved word**
Command tersebut tersimpan didalam shell. Banyak dari perintah ini kita gunakan dalam bahasa pemprogramman, seperti `do`, `while`, `case` dan `else`

* **Function**, Ini adalah kumpulan dari command yang dieksekusi bersamaan didalam current shell.

* **Builtin-command**, command ini adalah command bawaan yang tertanam didalam shell, seperti `cd` (change directory), `echo` (untuk menampilkan text pada layar), `exit`(untuk keluar dari shell), `fg`(untuk mengembalikan command yang berjalan pada background), `history`(untuk menampilkan riwayat command yang pernah dijalankan), `pwd`(menampilkan direktori yang sedang bekerja), `set` (untuk menyetel opsi dari shell) dan `type` (menampilkan lokasi dari command).
``` {.shell .no-copy} 
maruffarras@BrownTofu:~$ type python3
python3 is /usr/bin/python3

maruffarras@BrownTofu:~$ echo "Bismillah"
Bismillah

maruffarras@BrownTofu:~$ pwd
/home/maruffarras
```

* **Filesystem** command, command ini tertanam dan dijalankan dari pada filesystem


Untuk menampilkan lokasi dari sebuah command tertentu anda dapat menggunakan command `type`, namun jika anda menggunakan shell selain bash, anda dapat menggunakan command `which`. contohnya

``` {.shell .no-copy} 
maruffarras@BrownTofu:~$ type python3
python3 is /usr/bin/python3

maruffarras@BrownTofu:~$ which -a python3
/usr/bin/python3
/bin/python3
```

JIka sebuah command terdapat dibeberapa lokasi dan anda ingin mengetahui semua lokasinya, gunakan opsi `-a` pada command `type`

``` {.shell .no-copy} 
maruffarras@BrownTofu:~$ type -a python3
python3 is /usr/bin/python3
python3 is /bin/python3
```


Jika command tidak berada pada direkotori yang terdaftar pada variabel $PATH, anda dapat menggunakan command `locate` untuk mencarinya. Dengan `locate` anda dapat mencari 	bagian dari system namun dengan syarat anda memliki hak akses. Karena ada beberapa file yang hanya bisa diakses menggunakan root user.

``` {.shell .no-copy} 
maruffarras@BrownTofu:~$ locate python3
...
/snap/gnome-3-38-2004/115/usr/lib/python3.9/lib2to3/fixes/fix_repr.py
/snap/gnome-3-38-2004/115/usr/lib/python3.9/lib2to3/fixes/fix_set_literal.py
/snap/gnome-3-38-2004/115/usr/lib/python3.9/lib2to3/fixes/fix_standarderror.py
/snap/gnome-3-38-2004/115/usr/lib/python3.9/lib2to3/fixes/fix_sys_exc.py
/snap/gnome-3-38-2004/115/usr/lib/python3.9/lib2to3/fixes/fix_throw.py
/snap/gnome-3-38-2004/115/usr/lib/python3.9/lib2to3/fixes/fix_tuple_params.py
/snap/gnome-3-38-2004/115/usr/lib/python3.9/lib2to3/fixes/fix_types.py
/snap/gnome-3-38-2004/115/usr/lib/python3.9/lib2to3/fixes/fix_unicode.py
...
```

JIka diperhatikan, command `locate` tidak hanya menemukan command python3, akan tetapi juga menemukan beberap file yang didalamnya mengandung command yang dicari. Command `locate` mencari diseluruh filesystem, tidak hanya pada direktori yang mengandung commands. 

!!! note
    Jika pada kasus tertentu perintah `locate` digunakan pada file yang baru saja ditambahkan pada system, bisajadi perintah tersebut tidak akan menemukannya pada filesystem. Untuk itu jalankan command `updatedb` sebagai user root untuk memperbarui locate database.

## Recalling Commands Using Command History
Dengan perintah `history`, anda dapat melihat daftar riwayat perintah yang pernah digunakan pada user anda. Serta anda juga dapat memangging kembali perintah tertentu dari daftar riwayat tersebut dan mengganti beberapa parameter pada perintah yang pernah digunakan sesuai yang dibutuhkan.

Selanjuta, pada sesi ini kita akan menjelaskan bagimana meng-edit command-line, bagaimana menyelesaikan bagian-bagian dari command-lines dan bagaimana memanggil kembali perinah yang ada pada daftar riwayat command line.

```{.shell .no-copy}
maruffarras@BrownTofu:~$ history | tail
 2033  which python3
 2034  which -a python3
 2035  updatedb
 2036  sudo updatedb
```

### Command-line Editing
Jika anda salah mengetik beberapa perintah yang panjang pada terimanal, Bash shell memiliki fitur yang membuat anda tidak harus menghapus perintah panjang tersebut, melainkan hanya meng-edit-nya. Selain itu, anda juga dapat memanggil perintah yang pernah anda tulis dan mengganti elemen-elemen tertentu dan membuatnya menjadi perintah yang baru.

Bash shell (bawaanya) menggunakan command-line editing (text-editor) yang didasarkan pada **emacs** text editor. [More abouts emacs](https://www.gnu.org/software/emacs/)

#### Keystrokes for Navigating Command Lines
| Keystroke | Name | Fungsi |
| :-------- | :--- | :-------|
| ++ctrl++ + `F` | Character Forward | Go forward one character |
| ++ctrl++ + `B` | Character Backward | Go backward one character|
| ++alt++ + `F`| Word Forward |Go forward one word|
| ++alt++ + `B`| Word Backward |Go backward one word|
| ++ctrl++ + `A`| Beginning of Line| Go to the beginning of the current line|
| ++ctrl++ + `E`| End of Line|Go to the end of line|
| ++ctrl++ + `L`| Clear Screan|Clear the scren|

#### Keystrokes for Editing Command Lines
| Keystroke | Name | Fungsi |
| :-------- | :--- | :-------|
| ++ctrl++ + `D` | Delete current | Delete the current character |
| ++backspace++ | Delete previouse|Delete the previous character|
| ++ctrl++ + `T` | Transpose character | Switch positions of current and previous characters|
| ++alt++ + `T`| Transpose word |Switch positions of current and previous words|
| ++alt++ + `U`| Uppercase word |Change the current word to uppercase|
| ++alt++ + `L`| Lowercase word |Change the current word to lowercase|
| ++alt++ + `C`| Capitalize word |Change the current word to an initial capital|
| ++ctrl++ + `V`| Insert special character|Add a special character|


#### Keystrokes for Cutting and Pasting Text from within Command Lines

|Keystroke|Full Name|Meaning|
| :-------- | :--- | :-------|
|++ctrl++ + `K`|Cut end of line|Cut text to the end of the line|
|++ctrl++ + `U`|Cut beginning of line|Cut text to the beginning of the line|
|++ctrl++ + `W`|Cut previous word|Cut the word located behind the cursor|
|++alt++ + `D`|Cut next word|Cut the word following the cursor|
|++ctrl++ + `Y`|Paste recent text|Paste most recently cut text|
|++alt++ + `Y`|Paste earlier text|Rotate back to previously cut text and paste it|
|++ctrl++ + `C` |Delete whole line|Delete the entire line|


### Command-line completion
Bash shell memiliki fitur completion untuk memudahkan kita mengetik perintah. Misalkan adan ingin mengetik perintah yang panjang seperti python3, anda hanya perlu mengetik **py** lalu anda tekan ++tab++, maka shell akan menampilkan daftar perintah yang diawali dengan py jika ada beberapa perintah dengan awal tersebut, namun jika hanya satu perintah makan shell akan mengeluarkan pada command line satu perintah yang diawali dengan py.



